%%高斯拟合 
clear;clc; 
%%X 代表各单品（剔除每日都0销量的）在2023-6-24到2023-6-30每天的成本加成百分比 
X = [4.190927835 4.190927835 4.190927835 4.190927835 3.56228866 3.56228866 3.56228866; 
0 9.408779762 9.408779762 9.408779762 0 9.408779762 0; 
4.170783699 4.170783699 4.170783699 4.170783699 3.545166144 3.545166144 3.545166144; 
8.164210526 8.164210526 8.164210526 8.164210526 8.164210526 8.164210526 8.164210526; 
6.178695652 6.178695652 0 6.178695652 6.178695652 0 0; 
6.108714286 6.108714286 6.108714286 6.108714286 6.108714286 6.108714286 6.108714286; 
0 7.468116279 7.468116279 7.468116279 0 0 0; 
14.30595041 14.30595041 14.30595041 0 0 0 0; 
6.84083293 6.84083293 6.84083293 6.84083293 6.84083293 6.84083293 6.84083293; 
6.140333333 6.140333333 6.140333333 5.321622222 4.912266667 4.912266667 4.912266667; 
12.26853721 0 13.49539093 13.49539093 0 0 0; 
5.374222222 0 5.374222222 5.374222222 5.374222222 4.134017094 4.134017094; 
5.307003984 5.307003984 5.307003984 5.307003984 5.307003984 5.307003984 5.307003984; 
4.678298319 4.678298319 4.678298319 4.678298319 4.678298319 4.678298319 6.029806723; 
4.660738636 4.660738636 4.660738636 4.660738636 4.660738636 4.660738636 4.660738636; 
6.211233083 0 0 7.282135338 7.282135338 7.282135338 7.282135338; 
0 0 0 0 0 0 4.01316; 
14.14045504 14.14045504 14.14045504 12.12039003 12.12039003 11.31236403 11.31236403; 
14.28452586 0 0 0 14.28452586 14.28452586 13.26420259; 
16.09848889 16.09848889 16.09848889 16.09848889 16.09848889 16.09848889 16.09848889; 
16.82831858 16.82831858 16.82831858 16.82831858 16.82831858 16.82831858 16.82831858; 
14.16447433 14.16447433 0 14.16447433 14.16447433 14.16447433 14.16447433; 
9.488671698 9.488671698 9.488671698 9.488671698 9.488671698 9.488671698 9.488671698; 
0 0 0 26.33805328 0 26.33805328 26.33805328; 
0 18.17535124 18.17535124 0 0 18.17535124 0; 
26.21247027 26.21247027 26.21247027 26.21247027 26.21247027 26.21247027 26.21247027; 
6.055518293 6.055518293 6.055518293 6.055518293 6.055518293 6.055518293 6.055518293; 
6.184417178 6.184417178 6.184417178 6.184417178 6.184417178 6.184417178 0; 
12.08023256 12.08023256 12.08023256 12.08023256 12.08023256 12.08023256 12.08023256; 
0 0 0 9.167727273 0 9.167727273 0; 
8.096895307 8.096895307 0 8.096895307 5.262981949 5.262981949 5.262981949; 
10.14338028 10.14338028 12.17205634 12.17205634 12.17205634 12.17205634 12.17205634; 
5.244638554 5.244638554 5.244638554 5.244638554 5.244638554 5.244638554 5.244638554; 
5.920471366 5.920471366 5.920471366 5.920471366 5.920471366 5.920471366 5.920471366; 
2.916831858 2.916831858 2.916831858 2.916831858 2.916831858 2.916831858 2.916831858; 
4.962820144 0 3.928899281 0 0 0 0; 
4.053878661 4.053878661 4.053878661 6.132790795 6.132790795 6.132790795 6.132790795; 
20.00428228 21.01459956 21.01459956 21.01459956 21.01459956 21.01459956 0; 
4.997659389 4.997659389 4.997659389 4.997659389 4.997659389 4.997659389 4.997659389; 
6.026008264 6.026008264 0 6.026008264 6.026008264 6.026008264 6.026008264; 
20.21703107 20.21703107 20.21703107 20.21703107 20.21703107 20.21703107 20.21703107; 
24.18514286 24.18514286 24.18514286 24.18514286 24.18514286 24.18514286 24.18514286; 
0 0 7.936656 0 6.919136 0 0; 
3.958557522 0 3.958557522 0 3.958557522 3.958557522 3.958557522; 
5.503055556 5.503055556 5.503055556 5.503055556 5.503055556 5.503055556 5.503055556; 
5.806852321 0 5.806852321 5.806852321 0 0 0; 
2.003488372 2.003488372 2.003488372 2.003488372 2.003488372 2.003488372 2.003488372; 
3 3 3 3 3 3 3; 
] 
X(48,7); 
%%Y 代表各单品基于所在品类的销量权重 
Y=[0.09816 0.11177 0.12039 0.10236 0.03539 0.07639 0.05600; 
0.00000 0.00634 0.12340 0.00232 0.00000 0.02502 0.00000; 
0.11298 0.15861 0.18611 0.13043 0.12219 0.08971 0.10727; 
0.03496 0.01573 0.02198 0.01687 0.05160 0.04037 0.05858; 
0.02804 0.01413 0.00000 0.00761 0.02510 0.00000 0.00000; 
0.01316 0.05174 0.09482 0.02609 0.05490 0.03859 0.03185; 
0.00000 0.04815 0.00887 0.00271 0.00000 0.00000 0.00000; 
0.02217 0.02609 0.01974 0.00000 0.00000 0.00000 0.00000; 
0.04773 0.06826 0.03096 0.13881 0.13008 0.10337 0.04996; 
0.02735 0.03512 0.05403 0.06530 0.02263 0.04812 0.04896; 
0.02509 0.00000 0.02882 0.00922 0.00000 0.00000 0.00000; 
0.04506 0.00000 0.11821 0.06331 0.07887 0.05461 0.07530; 
0.04071 0.05447 0.08431 0.02781 0.02395 0.06728 0.03921; 
0.33412 0.26168 0.03096 0.20358 0.29733 0.21535 0.28309; 
0.16365 0.14790 0.07740 0.13881 0.11150 0.18951 0.19150; 
0.00682 0.00000 0.00000 0.06478 0.04646 0.05168 0.04996; 
0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00833; 
0.81287 1.00000 1.00000 1.00000 0.83397 0.65229 0.70183; 
0.18713 0.00000 0.00000 0.00000 0.16603 0.34771 0.29817; 
0.45366 0.32128 0.42564 0.34491 0.48162 0.31415 0.44526; 
0.15406 0.13080 0.21005 0.13725 0.03659 0.14549 0.04487; 
0.13948 0.15025 0.00000 0.14551 0.15085 0.18337 0.32843; 
0.06793 0.05866 0.03716 0.02500 0.17324 0.04472 0.06973; 
0.00000 0.00000 0.00000 0.16523 0.00000 0.04133 0.02234; 
0.00000 0.16099 0.03077 0.00000 0.00000 0.04198 0.00000; 
0.18487 0.17801 0.29639 0.18209 0.15770 0.22896 0.08936; 
0.47844 0.70547 0.77247 0.48663 0.38815 0.46642 0.58561; 
0.25020 0.16118 0.16764 0.10969 0.15654 0.08166 0.00000; 
0.24079 0.10693 0.05989 0.27712 0.31417 0.24915 0.35830; 
0.00000 0.00000 0.00000 0.06084 0.00000 0.04448 0.00000; 
0.03056 0.02642 0.00000 0.06572 0.14114 0.15828 0.05609; 
0.10456 0.08060 0.09787 0.06774 0.10545 0.08954 0.10718; 
0.20223 0.17963 0.15705 0.26783 0.18867 0.17576 0.20115; 
0.22487 0.25698 0.27356 0.29768 0.29943 0.38415 0.27839; 
0.17990 0.10582 0.21277 0.06267 0.09981 0.08149 0.11389; 
0.01124 0.00000 0.01520 0.00000 0.00000 0.00000 0.00000; 
0.16865 0.19651 0.10638 0.07834 0.14972 0.20954 0.11389; 
0.00842 0.01584 0.01704 0.01565 0.02542 0.00196 0.00000; 
0.05622 0.13605 0.09119 0.12534 0.08318 0.02328 0.11389; 
0.01124 0.01512 0.00000 0.06267 0.03327 0.01164 0.05062; 
0.03266 0.01345 0.02895 0.02209 0.01505 0.02264 0.02101; 
0.15773 0.15107 0.12987 0.14424 0.07232 0.09960 0.21497; 
0.00000 0.00000 0.03626 0.00000 0.01933 0.00000 0.00000; 
0.07657 0.00000 0.14502 0.00000 0.07731 0.02309 0.06542; 
0.25523 0.21223 0.25379 0.23339 0.21259 0.13852 0.22897; 
0.02552 0.00000 0.07251 0.03890 0.00000 0.00000 0.00000; 
0.30628 0.38909 0.29004 0.15559 0.50249 0.50792 0.39252; 
0.17866 0.24760 0.07251 0.42788 0.11596 0.23087 0.09813; 
] 
Y(48,7); 
%%Z 代表各单品(剔除全0销量)在2023-6-24到2023-6-30每天的成本加成百分比贡献值 
Z = X .* Y; 
%%初始化addition 各品类权重后的日成本加成 
addition=zeros(6,7); 
label = zeros(6,1); 
%%48x7 的矩阵中一列48个单品分成6大类，label(i,1)代表每一大类的单品种类个数 
label(1,1)=17;label(2,1)=2;label(3,1)=7;label(4,1)=5;label(5,1)=10;label(6,1)=7; 
for j = 1:7 
addition(1,j)=sum(Z(1:17,j)); 
addition(2,j)=sum(Z(18:19,j)); 
addition(3,j)=sum(Z(20:26,j)); 
addition(4,j)=sum(Z(27:31,j)); 
addition(5,j)=sum(Z(32:41,j)); 
addition(6,j)=sum(Z(42:48,j)); 
end 
%%addition 代表各品类（剔除每日都0销量的）在2023-6-24到2023-6-30每天的成本加成百分比 
disp(addition); 
%%X 代表各品类（剔除每日都0销量的）在2023-6-24到2023-6-30每天的销量 
A=[146.656 87.895 64.597 108.063 107.625 116.09 120.104; 
11.548 10.681 8.083 14.272 16.069 23.272 24.08; 
12.69 
9.87 9.393 
8.721 
5.986 
18.558 10.34; 
28.369 23.315 21.224 8.415 15.651 11.511 24.53; 
88.94 
66.153 65.8 63.828 60.114 85.903 79.026; 
39.18 
] 
28.271 27.582 25.708 51.742 43.314 30.572; 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%拟合各品类每日销量和每日加权加成定价关
系%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
%%%%%第一大类：花叶类 
Hy_y=addition(1,:) 
Hy_y=Hy_y' 
Hy_x=A(1,:) 
Hy_x=Hy_x' 
%% 拟合: '花叶类'。 
[xData, yData] = prepareCurveData( Hy_x, Hy_y ); 
% 设置 fittype 和选项。 
ft = fittype( 'gauss2' ); 
opts = fitoptions( 'Method', 'NonlinearLeastSquares' ); 
opts.Display = 'Off'; 
opts.Lower = [-Inf -Inf 0 -Inf -Inf 0]; 
opts.StartPoint = [6.06992623258916 64.597 34.2109985575676 5.34824982688662 146.656 
24.6075637044289]; 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft, opts ); 
% 绘制数据拟合图。 
figure( 'Name', '花叶类' ); 
h = plot( fitresult, xData, yData ); 
legend( h, 'Hy_y vs. Hy_x', '花叶类', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'Hy_x', 'Interpreter', 'none' ); 
ylabel( 'Hy_y', 'Interpreter', 'none' ); 
grid on 
%%显示花叶类高斯拟合 
disp(ft) 
%%%%%第二大类：花菜类 
Hc_y=addition(2,:) 
Hc_y=Hc_y' 
Hc_x=A(2,:) 
Hc_x=Hc_x' 
%% 拟合: '花菜类高斯拟合'。 
[xData, yData] = prepareCurveData( Hc_x, Hc_y ); 
% 设置 fittype 和选项。 
ft = fittype( 'gauss2' ); 
opts = fitoptions( 'Method', 'NonlinearLeastSquares' ); 
opts.Display = 'Off'; 
opts.Lower = [-Inf -Inf 0 -Inf -Inf 0]; 
opts.StartPoint = [14.1674150125466 11.548 7.51741962896822 11.1014038075237 23.272 
2.83113447114561]; 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft, opts ); 
% 绘制数据拟合图。 
figure( 'Name', '花菜类高斯拟合' ); 
h = plot( fitresult, xData, yData ); 
legend( h, 'Hc_y vs. Hc_x', '花菜类高斯拟合', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'Hc_x', 'Interpreter', 'none' ); 
ylabel( 'Hc_y', 'Interpreter', 'none' ); 
grid on 
%%显示花菜类高斯拟合 
disp(ft) 
%%%%%第三大类：水生根茎类 
Ss_y=addition(3,:) 
Ss_y=Ss_y' 
Ss_x=A(3,:) 
Ss_x=Ss_x' 
%% 拟合: '水生根茎类'。 
[xData, yData] = prepareCurveData( Ss_x, Ss_y ); 
% 设置 fittype 和选项。 
ft = fittype( 'gauss2' ); 
opts = fitoptions( 'Method', 'NonlinearLeastSquares' ); 
opts.Display = 'Off'; 
opts.Lower = [-Inf -Inf 0 -Inf -Inf 0]; 
opts.StartPoint = [19.2853712352819 8.721 3.24139949380204 18.3785964219526 18.558 
2.48543734533352]; 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft, opts ); 
% 绘制数据拟合图。 
figure( 'Name', '水生根茎类' ); 
h = plot( fitresult, xData, yData ); 
legend( h, 'Ss_y vs. Ss_x', '水生根茎类', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'Ss_x', 'Interpreter', 'none' ); 
ylabel( 'Ss_y', 'Interpreter', 'none' ); 
grid on 
%%显示水生根茎类高斯拟合 
disp(ft) 
%%%%%第四大类：茄类 
Q_y=addition(4,:) 
Q_y=Q_y' 
Q_x=A(4,:) 
Q_x=Q_x' 
%% 拟合: '茄类'。 
[xData, yData] = prepareCurveData( Q_x, Q_y ); 
% 设置 fittype 和选项。 
ft = fittype( 'gauss2' ); 
opts = fitoptions( 'Method', 'NonlinearLeastSquares' ); 
opts.Display = 'Off'; 
opts.Lower = [-Inf -Inf 0 -Inf -Inf 0]; 
opts.StartPoint = [8.16972005133114 24.53 10.6961838956575 7.21859923953297 8.415 
3.02231151519]; 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft, opts ); 
% 绘制数据拟合图。 
figure( 'Name', '茄类' ); 
h = plot( fitresult, xData, yData ); 
legend( h, 'Q_y vs. Q_x', '茄类', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'Q_x', 'Interpreter', 'none' ); 
ylabel( 'Q_y', 'Interpreter', 'none' ); 
grid on 
%%显示茄类高斯拟合 
disp(ft) 
%%%%%第五大类：辣椒类 
Lj_y=addition(5,:) 
Lj_y=Lj_y' 
Lj_x=A(5,:) 
Lj_x=Lj_x' 
%% 拟合: '辣椒类'。 
[xData, yData] = prepareCurveData( Lj_x, Lj_y ); 
% 设置 fittype 和选项。 
ft = fittype( 'gauss2' ); 
opts = fitoptions( 'Method', 'NonlinearLeastSquares' ); 
opts.Display = 'Off'; 
opts.Lower = [-Inf -Inf 0 -Inf -Inf 0]; 
opts.StartPoint = [6.70979450507094 60.114 14.7796264863746 6.1747180131464 85.903 
3.94972378731181]; 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft, opts ); 
% 绘制数据拟合图。 
figure( 'Name', '辣椒类' ); 
h = plot( fitresult, xData, yData ); 
legend( h, 'Lj_y vs. Lj_x', '辣椒类', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'Lj_x', 'Interpreter', 'none' ); 
ylabel( 'Lj_y', 'Interpreter', 'none' ); 
grid on 
%%显示辣椒类高斯拟合 
disp(ft) 
%%%%%第六大类：食用菌 
Syj_y=addition(6,:) 
Syj_y=Syj_y' 
Syj_x=A(6,:) 
Syj_x=Syj_x' 
%% 拟合: '食用菌'。 
[xData, yData] = prepareCurveData( Syj_x, Syj_y ); 
% 设置 fittype 和选项。 
ft = fittype( 'gauss2' ); 
opts = fitoptions( 'Method', 'NonlinearLeastSquares' ); 
opts.Display = 'Off'; 
opts.Lower = [-Inf -Inf 0 -Inf -Inf 0]; 
opts.StartPoint = [7.7988828801382 30.572 4.02724194998678 6.73928485762241 39.18 
4.63859898665056]; 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft, opts ); 
% 绘制数据拟合图。 
figure( 'Name', '食用菌' ); 
h = plot( fitresult, xData, yData ); 
legend( h, 'Syj_y vs. Syj_x', '食用菌', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'Syj_x', 'Interpreter', 'none' ); 
ylabel( 'Syj_y', 'Interpreter', 'none' ); 
grid on 
%%显示食用菌高斯拟合 
disp(ft) 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%拟合各品类每日销量关系 2023-6-24 到 2023
6-30%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
%%一周七天 
T=[1;2;3;4;5;6;7] 
%%第一类：花叶类 
Cofhy_y=A(1,:); 
Cofhy_y=Cofhy_y' 
%% 拟合: '花叶类销量'。 
[xData, yData] = prepareCurveData( T, Cofhy_y ); 
% 设置 fittype 和选项。 
ft = fittype( 'gauss2' ); 
opts = fitoptions( 'Method', 'NonlinearLeastSquares' ); 
opts.Display = 'Off'; 
opts.Lower = [-Inf -Inf 0 -Inf -Inf 0]; 
opts.StartPoint = [146.656 1 1.66640212977373 120.103656397588 7 1.85178463503987]; 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft, opts ); 
% 绘制数据拟合图。 
figure( 'Name', '花叶类销量' ); 
h = plot( fitresult, xData, yData ); 
legend( h, 'Cofhy_y vs. T', '花叶类销量', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'T', 'Interpreter', 'none' ); 
ylabel( 'Cofhy_y', 'Interpreter', 'none' ); 
grid on 
%%显示花叶类销量趋势 
disp(ft) 
%%第二类：花菜类 
Cofhc_y=A(2,:); 
Cofhc_y=Cofhc_y' 
%% 拟合: '花菜类销量'。 
[xData, yData] = prepareCurveData( T, Cofhc_y ); 
% 设置 fittype 和选项。 
ft = fittype( 'gauss2' ); 
opts = fitoptions( 'Method', 'NonlinearLeastSquares' ); 
opts.Display = 'Off'; 
opts.Lower = [-Inf -Inf 0 -Inf -Inf 0]; 
opts.StartPoint = [24.08 7 1.21161402941692 14.4902997821162 5 1.71072997537348]; 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft, opts ); 
% 绘制数据拟合图。 
figure( 'Name', '花菜类销量' ); 
h = plot( fitresult, xData, yData ); 
legend( h, 'Cofhc_y vs. T', '花菜类销量', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'T', 'Interpreter', 'none' ); 
ylabel( 'Cofhc_y', 'Interpreter', 'none' ); 
grid on 
%%显示花叶类销量趋势 
disp(ft) 
%%第三类：水生根茎类 
Cofss_y=A(3,:); 
Cofss_y=Cofss_y' 
%% 拟合: '水生根茎类销量'。 
[xData, yData] = prepareCurveData( T, Cofss_y ); 
% 设置 fittype 和选项。 
ft = fittype( 'gauss2' ); 
opts = fitoptions( 'Method', 'NonlinearLeastSquares' ); 
opts.Display = 'Off'; 
opts.Lower = [-Inf -Inf 0 -Inf -Inf 0]; 
opts.StartPoint = [18.558 6 0.88869905581123 12.6899999999997 1 1.27493726466862]; 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft, opts ); 
% 绘制数据拟合图。 
figure( 'Name', '水生根茎类销量' ); 
h = plot( fitresult, xData, yData ); 
legend( h, 'Cofss_y vs. T', '水生根茎类销量', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'T', 'Interpreter', 'none' ); 
ylabel( 'Cofss_y', 'Interpreter', 'none' ); 
grid on 
%%显示水生根茎类销量趋势 
disp(ft) 
%%第四类:茄类 
Cofq_y=A(4,:); 
Cofq_y=Cofq_y' 
%% 拟合: '茄类销量'。 
[xData, yData] = prepareCurveData( T, Cofq_y ); 
% 设置 fittype 和选项。 
ft = fittype( 'gauss2' ); 
opts = fitoptions( 'Method', 'NonlinearLeastSquares' ); 
opts.Display = 'Off'; 
opts.Lower = [-Inf -Inf 0 -Inf -Inf 0]; 
opts.StartPoint = [28.369 1 1.45325788156546 24.5299988781066 7 1.17827237450103]; 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft, opts ); 
% 绘制数据拟合图。 
figure( 'Name', '茄类销量' ); 
h = plot( fitresult, xData, yData ); 
legend( h, 'Cofq_y vs. T', '茄类销量', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'T', 'Interpreter', 'none' ); 
ylabel( 'Cofq_y', 'Interpreter', 'none' ); 
grid on 
%%显示茄类销量趋势 
disp(ft) 
%%第五类:辣椒类 
Coflj_y=A(5,:); 
Coflj_y=Coflj_y' 
%% 拟合: '辣椒类销量'。 
[xData, yData] = prepareCurveData( T, Coflj_y ); 
% 设置 fittype 和选项。 
ft = fittype( 'gauss2' ); 
opts = fitoptions( 'Method', 'NonlinearLeastSquares' ); 
opts.Display = 'Off'; 
opts.Lower = [-Inf -Inf 0 -Inf -Inf 0]; 
opts.StartPoint = [88.94 1 2.55660564485601 83.9621449997658 6 0.845913864235668]; 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft, opts ); 
% 绘制数据拟合图。 
figure( 'Name', '辣椒类销量' ); 
h = plot( fitresult, xData, yData ); 
legend( h, 'Coflj_y vs. T', '辣椒类销量', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'T', 'Interpreter', 'none' ); 
ylabel( 'Coflj_y', 'Interpreter', 'none' ); 
grid on 
%%显示辣椒类销量趋势 
disp(ft) 
%%第六类:食用菌 
Cofsyj_y=A(6,:); 
Cofsyj_y=Cofsyj_y' 
%% 拟合: '食用菌销量'。 
[xData, yData] = prepareCurveData( T, Cofsyj_y ); 
% 设置 fittype 和选项。 
ft = fittype( 'gauss2' ); 
opts = fitoptions( 'Method', 'NonlinearLeastSquares' ); 
opts.Display = 'Off'; 
opts.Lower = [-Inf -Inf 0 -Inf -Inf 0]; 
opts.StartPoint = [51.742 5 0.845406794620528 39.1799999901948 1 1.99063314521303]; 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft, opts ); 
% 绘制数据拟合图。 
figure( 'Name', '食用菌销量' ); 
h = plot( fitresult, xData, yData ); 
legend( h, 'Cofsyj_y vs. T', '食用菌销量', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'T', 'Interpreter', 'none' ); 
ylabel( 'Cofsyj_y', 'Interpreter', 'none' ); 
grid on 
%%显示食用菌销量趋势 
disp(ft) 
%%高斯拟合function 
function [fitresult, gof] = createFit(Hy_x, Hy_y) 
%CREATEFIT(HY_X,HY_Y) 
%  
创建一个拟合。 
% 
%  
%      
%      
%  
%      
%      
% 
%  
%  
要进行 '销量与成本加成' 拟合的数据: 
X 输入: Hy_x 
Y 输出: Hy_y 
输出: 
fitresult: 表示拟合的拟合对象。 
gof: 带有拟合优度信息的结构体。 
另请参阅 FIT, CFIT, SFIT. 
由 MATLAB 于 09-Sep-2023 12:50:22 自动生成 
%% 拟合: '销量与成本加成'。 
[xData, yData] = prepareCurveData( Hy_x, Hy_y ); 
% 设置 fittype 和选项。 
ft = fittype( 'gauss2' ); 
opts = fitoptions( 'Method', 'NonlinearLeastSquares' ); 
opts.Display = 'Off'; 
opts.Lower = [-Inf -Inf 0 -Inf -Inf 0]; 
opts.StartPoint = [6.06992623258916 64.597 34.2109985575676 5.34824982688662 146.656 
24.6075637044289]; 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft, opts ); 
% 绘制数据拟合图。 
figure( 'Name', '销量与成本加成' ); 
h = plot( fitresult, xData, yData ); 
legend( h, 'Hy_y vs. Hy_x', '销量与成本加成', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'Hy_x', 'Interpreter', 'none' ); 
ylabel( 'Hy_y', 'Interpreter', 'none' ); 
grid on 
%%负荷线性回归 
clear;clc; 
%%经过7.1的定性分析后，我们已经从37个正向收益的单品中找到收益概率最小的十个单品，从十
个单品中去除拟合收益较小的前4个（尽量保持各品类都有）即可。 
%%该10个单品为：上海青，菜心，云南油麦菜，外地茼蒿，小青菜(1)，红莲藕带，野生粉藕，高瓜
(2)，虫草花(份)，海鲜菇(包)。 
%% X矩阵：代表该10个单品在2023-6-01到2023-6-30的每日销量 
%X是一个10x30的矩阵。 
%其中X(1,:)代表上海青的数据，以此类推，X(10,:)代表海鲜菇(包)的数据。 
X=[12.857 6.394 7.56 10.695 5.83 9.468 5.829 4.349 6.892 9.484 8.374
 3.121 4.41 1.863 3.15 4.733 12.387 4.598 2.187 3.404 2.59 4.121 4.698
 5.127 1.383 1.42 1.823 5.553 4.687 7.036; 
0 0 0 0 0 0 1.633 3.1 0 0 0 0 2.793 0.67 0 0 0 5.603
 1.997 0 4.246 4.012 0 4.112 1.242 0 0.822 2.701 0 0; 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 0 0 4.232 0.573 0.293 0 0 0; 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 3.561 0
 0 2.048 3.68 0 1.862 0.996 0 0 0; 
3.308 1.97 9.495 8.334 7.552 7.113 3.542 3.843 7.435 9.296 10.706
 5.675 7.218 6.762 6.85 6.299 13.081 14.071 7.442 6.494 5 5.755
 5.155 5.97 4.788 5.446 3.005 2.578 7.81 4.709; 
0.475 0.233 0.861 0.905 0.493 1.139 0.117 0.579 1.211 1.648 1.387
 0.459 1.704 0 1.245 1.103 2.761 4.739 0.524 0.458 1.812 0.95
 0.644 0.862 0.579 0.349 0.218 1.037 0.83 0.721; 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 0 0 0 0 1.441 0 0.767 0.231; 
0 0 0.191 1.01 0 0 0.966 0.279 0.207 0.974 0.487 0 0.864 0
 0.182 0 0.464 0 0 0 0.244 0.219 0 0 1.589 0.289 0 0
 0.779 0; 
3 3 2 7 3 3 2 2 3 6 4 1 1 4 2 1 4 2 4 1 3 3
 0 3 0 4 0 4 1 2; 
5 11 17 12 2 6 6 11 7 12 14 6 10 8 4 12 14 12 3 7 9 10
 9 7 7 2 11 6 10 3; 
] 
%% Y矩阵：代表该十个单品在2023-6-01到2023-6-30的计算出的成本加成定价 
%Y是一个10x30的矩阵。 
%其中Y(1,:)代表上海青的数据，以此类推，Y(10,:)代表海鲜菇(包)的数据。 
Y=[7.011803202 7.011803202 7.946710296 7.946710296 7.946710296 7.946710296
 7.946710296 7.946710296 7.946710296 7.946710296 7.946710296 7.946710296
 7.946710296 7.946710296 7.946710296 7.946710296 9.349070936 9.349070936
 9.349070936 9.349070936 9.349070936 9.349070936 9.349070936 9.349070936
 9.349070936 9.349070936 9.349070936 9.349070936 9.349070936 9.349070936; 
0 0 0 0 0 0 8.342989571 8.342989571 0 0 0 0 8.342989571
 8.342989571 0 0 0 6.025492468 6.025492468 0 6.025492468 6.025492468 0
 6.952491309 6.952491309 0 6.952491309 6.952491309 0 0; 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 0 0 8.257827733 8.257827733 8.257827733 0 0 0; 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 16.25135428 0 0 16.25135428 16.25135428 0 17.87648971 17.87648971 0 0 0; 
4.460800714 4.460800714 4.460800714 4.460800714 4.460800714 5.799040928 6.691201071
6.691201071 6.691201071 6.691201071 6.691201071 6.691201071 6.691201071
 6.691201071 6.691201071 5.799040928 5.799040928 5.799040928 5.799040928
 5.799040928 5.799040928 5.799040928 5.799040928 5.799040928 5.799040928
 5.799040928 5.799040928 5.799040928 5.799040928 5.799040928; 
13.434089 
13.434089 
13.434089 
13.434089 
13.434089 
13.434089 
13.434089
 11.03514454 11.03514454 11.03514454 11.03514454 11.03514454 11.03514454 0
 11.03514454 11.03514454 11.03514454 11.03514454 11.03514454 11.03514454
 11.03514454 11.03514454 11.03514454 11.03514454 11.03514454 11.03514454
 11.03514454 11.03514454 11.03514454 11.03514454; 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 0 0 0 0 29.77894857 0 29.77894857 29.77894857; 
0 0 13.91189135 13.91189135 0 0 15.45765706 15.45765706 15.45765706
 16.56177542 16.56177542 0 17.66589378 0 17.66589378 0 17.66589378 0 0 0
 17.66589378 17.66589378 0 0 19.87413051 19.87413051 0 0 19.87413051 0; 
4.195649774 4.195649774 4.195649774 4.195649774 4.195649774 4.195649774 4.195649774
 4.195649774 4.195649774 4.195649774 4.195649774 4.195649774 4.195649774
 4.195649774 4.195649774 4.195649774 4.195649774 4.195649774 4.195649774
 4.195649774 4.195649774 4.195649774 0 4.195649774 4.195649774 4.195649774 0
 4.195649774 4.195649774 4.195649774; 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
 3 3 3 3 3 3 3 3; 
] 
%% ci 代表成本价格，i=1,2,3,4,...,10. 
c1=7.03;c2=4.6;c3=3.44;c4=11.69;c5=5.02;c6=5.3;c7=9.76;c8=9.68;c9=2.26;c10=2.67; 
%% 单品总利润 w = x*(y-成本) 
%% 每个单品拟合补货量和成本加成定价的关系： 
%上海青： 
S1=X(1,:); 
S1=S1' 
R1=Y(1,:); 
R1=R1' 
%% 拟合: '上海青'。 
[xData, yData] = prepareCurveData( S1, R1 ); 
% 设置 fittype 和选项。 
ft = fittype( 'poly1' ); 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft, 'Normalize', 'on' ); 
% 绘制数据拟合图。 
figure( 'Name', '上海青' ); 
h = plot( fitresult, xData, yData ); 
legend( h, 'R1 vs. S1', '上海青', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'S1', 'Interpreter', 'none' ); 
ylabel( 'R1', 'Interpreter', 'none' ); 
grid on 
%菜心 
S2=X(2,:); 
S2=S2' 
R2=Y(2,:); 
R2=R2' 
%剔除点（0，0） 
S2=[1.6330; 
3.1000; 
2.7930; 
0.6700; 
5.6030; 
1.9970; 
4.2460; 
4.0120; 
4.1120; 
1.2420; 
0.8220; 
2.7010] 
R2=[ 
8.3430; 
8.3430; 
8.3430; 
8.3430; 
6.0255; 
6.0255; 
6.0255; 
6.0255; 
6.9525; 
6.9525; 
6.9525; 
6.9525] 
%% 拟合: '菜心'。 
[xData, yData] = prepareCurveData( S2, R2 ); 
% 设置 fittype 和选项。 
ft = fittype( 'poly1' ); 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft, 'Normalize', 'on' ); 
% 绘制数据拟合图。 
figure( 'Name', '菜心' ); 
h = plot( fitresult, xData, yData ); 
legend( h, 'R2 vs. S2', '菜心', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'S2', 'Interpreter', 'none' ); 
ylabel( 'R2', 'Interpreter', 'none' ); 
grid on 
%云南油麦菜 
S3=X(3,:); 
S3=S3' 
R3=Y(3,:); 
R3=R3' 
%剔除点（0，0） 
S4=[4.2320; 
0.5730; 
0.2930] 
R3=[8.2578; 
8.2578; 
8.2578] 
%% 拟合: '云南油麦菜'。 
[xData, yData] = prepareCurveData( S4, R3 ); 
% 设置 fittype 和选项。 
ft = fittype( 'poly1' ); 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft ); 
% 绘制数据拟合图。 
figure( 'Name', '云南油麦菜' ); 
h = plot( fitresult, xData, yData ); 
legend( h, 'R3 vs. S3', '云南油麦菜', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'S3', 'Interpreter', 'none' ); 
ylabel( 'R3', 'Interpreter', 'none' ); 
grid on 
%外地茼蒿 
S4=X(4,:); 
S4=S4' 
R4=Y(4,:); 
R4=R4' 
%剔除点（0，0） 
S4=[3.5610; 
2.0480; 
3.6800; 
1.8620; 
0.9960] 
R4=[16.2514; 
16.2514; 
16.2514; 
17.8765; 
17.8765] 
%% 拟合: '外地茼蒿'。 
[xData, yData] = prepareCurveData( S4, R4 ); 
% 设置 fittype 和选项。 
ft = fittype( 'poly1' ); 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft ); 
% 绘制数据拟合图。 
figure( 'Name', '外地茼蒿' ); 
h = plot( fitresult, xData, yData ); 
legend( h, 'R4 vs. S4', '外地茼蒿', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'S4', 'Interpreter', 'none' ); 
ylabel( 'R4', 'Interpreter', 'none' ); 
grid on 
%小青菜(1) 
S5=X(5,:); 
S5=S5' 
R5=Y(5,:); 
R5=R5' 
%% 拟合: '小青菜(1)'。 
[xData, yData] = prepareCurveData( S5, R5 ); 
% 设置 fittype 和选项。 
ft = fittype( 'poly1' ); 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft ); 
% 绘制数据拟合图。 
figure( 'Name', '小青菜(1)' ); 
h = plot( fitresult, xData, yData );  
legend( h, 'R5 vs. S5', '小青菜(1)', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'S5', 'Interpreter', 'none' ); 
ylabel( 'R5', 'Interpreter', 'none' ); 
grid on 
%红莲藕带 
S6=X(6,:); 
S6=S6' 
R6=Y(6,:); 
R6=R6' 
%剔除点（0，0） 
S6 =[    
0.4750 
0.2330 
0.8610 
0.9050 
0.4930 
1.1390 
0.1170 
0.5790 
1.2110 
1.6480 
1.3870 
0.4590 
1.7040 
1.2450 
1.1030 
2.7610 
4.7390 
0.5240 
0.4580 
1.8120 
0.9500 
0.6440 
0.8620 
0.5790 
0.3490 
0.2180 
1.0370 
0.8300 
0.7210] 
R6=[   13.4341 
13.4341 
13.4341 
13.4341 
45 
13.4341 
13.4341 
13.4341 
11.0351 
11.0351 
11.0351 
11.0351 
11.0351 
11.0351 
11.0351 
11.0351 
11.0351 
11.0351 
11.0351 
11.0351 
11.0351 
11.0351 
11.0351 
11.0351 
11.0351 
11.0351 
11.0351 
11.0351 
11.0351 
11.0351] 
%% 拟合: '红莲藕带'。 
[xData, yData] = prepareCurveData( S6, R6 ); 
% 设置 fittype 和选项。 
ft = fittype( 'poly1' ); 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft ); 
% 绘制数据拟合图。 
figure( 'Name', '红莲藕带' ); 
h = plot( fitresult, xData, yData ); 
legend( h, 'R6 vs. S6', '红莲藕带', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'S6', 'Interpreter', 'none' ); 
ylabel( 'R6', 'Interpreter', 'none' ); 
grid on 
%野生粉藕 
S7=X(7,:); 
S7=S7' 
R7=Y(7,:); 
R7=R7' 
%剔除点（0，0） 
S7 =[1.4410 
    0.7670 
    0.2310] 
R7=[29.7789 
    29.7789 
    29.7789] 
%% 拟合: '野生粉藕'。 
[xData, yData] = prepareCurveData( S7, R7 ); 
 
% 设置 fittype 和选项。 
ft = fittype( 'poly1' ); 
 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft ); 
 
% 绘制数据拟合图。 
figure( 'Name', '野生粉藕' ); 
h = plot( fitresult, xData, yData ); 
legend( h, 'R7 vs. S7', '野生粉藕', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'S7', 'Interpreter', 'none' ); 
ylabel( 'R7', 'Interpreter', 'none' ); 
grid on 
%高瓜(2) 
S8=X(8,:); 
S8=S8' 
R8=Y(8,:); 
R8=R8' 
%剔除点（0，0） 
S8 =[ 
    0.1910 
    1.0100 
    0.9660 
    0.2790 
    0.2070 
    0.9740 
    0.4870 
    0.8640 
    0.1820 
    0.4640 
0.2440 
0.2190 
1.5890 
0.2890 
0.7790] 
R8 =[ 
13.9119 
13.9119 
15.4577 
15.4577 
15.4577 
16.5618 
16.5618 
17.6659 
17.6659 
17.6659 
17.6659 
17.6659 
19.8741 
19.8741 
19.8741] 
%% 拟合: '高瓜(2)'。 
[xData, yData] = prepareCurveData( S8, R8 ); 
% 设置 fittype 和选项。 
ft = fittype( 'poly1' ); 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft ); 
% 绘制数据拟合图。 
figure( 'Name', '高瓜(2)' ); 
h = plot( fitresult, xData, yData ); 
legend( h, 'R8 vs. S8', '高瓜(2)', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'S8', 'Interpreter', 'none' ); 
ylabel( 'R8', 'Interpreter', 'none' ); 
grid on 
%虫草花(份) 
S9=X(9,:); 
S9=S9' 
R9=Y(9,:); 
R9=R9' 
%剔除点（0，0） 
S9 =[     3 
     3 
     2 
     7 
     3 
     3 
     2 
     2 
     3 
     6 
     4 
     1 
     1 
     4 
     2 
     1 
     4 
     2 
     4 
     1 
     3 
     3 
     3 
     4 
     0 
     4 
     1 
     2] 
R9 =[    4.1956 
    4.1956 
    4.1956 
    4.1956 
    4.1956 
    4.1956 
    4.1956 
    4.1956 
    4.1956 
    4.1956 
    4.1956 
    4.1956 
    4.1956 
    4.1956 
    4.1956 
    4.1956 
4.1956 
4.1956 
4.1956 
4.1956 
4.1956 
4.1956 
4.1956 
4.1956 
4.1956 
4.1956 
4.1956 
4.1956] 
%% 拟合: '虫草花(份)'。 
[xData, yData] = prepareCurveData( S9, R9 ); 
% 设置 fittype 和选项。 
ft = fittype( 'poly1' ); 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft ); 
% 绘制数据拟合图。 
figure( 'Name', '虫草花(份)' ); 
h = plot( fitresult, xData, yData ); 
legend( h, 'R9 vs. S9', '虫草花(份)', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'S9', 'Interpreter', 'none' ); 
ylabel( 'R9', 'Interpreter', 'none' ); 
grid on 
%海鲜菇(包) 
S10=X(10,:); 
S10=S10' 
R10=Y(10,:); 
R10=R10' 
%% 拟合: '海鲜菇(包)'。 
[xData, yData] = prepareCurveData( S10, R10 ); 
% 设置 fittype 和选项。 
ft = fittype( 'poly1' ); 
% 对数据进行模型拟合。 
[fitresult, gof] = fit( xData, yData, ft ); 
% 绘制数据拟合图。
figure( 'Name', '海鲜菇(包)' ); 
h = plot( fitresult, xData, yData ); 
legend( h, 'R10 vs. S10', '海鲜菇(包)', 'Location', 'NorthEast', 'Interpreter', 'none' ); 
% 为坐标区加标签 
xlabel( 'S10', 'Interpreter', 'none' ); 
ylabel( 'R10', 'Interpreter', 'none' ); 
grid on 
clear;clc; 
%% 4.232 
% ci 代表成本价格，i=1,2,3,4,...,10. 
c1=7.03;c2=4.6;c3=3.44;c4=11.69;c5=5.02;c6=5.3;c7=9.76;c8=9.68;c9=2.26;c10=2.67; 
%% 利润计算公式w=(y-ci).*x; 
%% 云南油麦菜利润w3 
x=2.5:0.001:4.232; 
y=(8.258-c3).*x; 
plot(x,y); 
grid on 
[ymax,k]=max(y); 
%% 定价 与 补货量 无关，k=4.232（当周最大补货量）； 
k=4.232; 
disp("补货量策略应该为：") 
disp(k) 
disp("利润 w：") 
disp(ymax) 
clear;clc; 
%% 4.232 
% ci 代表成本价格，i=1,2,3,4,...,10. 
c1=7.03;c2=4.6;c3=3.44;c4=11.69;c5=5.02;c6=5.3;c7=9.76;c8=9.68;c9=2.26;c10=2.67; 
%% 利润计算公式w=(y-ci).*x; 
%% 野生粉藕利润w7 
%% 野生粉藕7天内销量均小于2.5kg，故在图中取2.5kg为补货量 
x=2.5:0.001:2.501; 
y=(29.78-c7).*x; 
plot(x,y); 
grid on 
[ymax,k]=max(y); 
%% 定价 与 补货量 无关； 
k=4.232; 
disp("补货量策略应该为：") 
disp("2.5") 
disp("利润 w：") 
disp(ymax) 
clear;clc; 
%% ci 代表成本价格，i=1,2,3,4,...,10. 
c1=7.03;c2=4.6;c3=3.44;c4=11.69;c5=5.02;c6=5.3;c7=9.76;c8=9.68;c9=2.26;c10=2.67; 
%% 利润计算公式w=(y-ci).*x; 
%% 小青菜(1)利润w5 
x=2.5:0.001:7.81; 
y=(5.704+0.02025.*x-c5).*x; 
plot(x,y); 
grid on 
[ymax,k]=max(y); 
%% 定价 与 补货量 正相关，k=max（x）=7.81： 
k=7.81; 
disp("补货量策略应该为：") 
disp(k) 
disp("利润 w：") 
disp(ymax) 
clear;clc; 
%% ci 代表成本价格，i=1,2,3,4,...,10. 
c1=7.03;c2=4.6;c3=3.44;c4=11.69;c5=5.02;c6=5.3;c7=9.76;c8=9.68;c9=2.26;c10=2.67; 
%% 利润计算公式w=(y-ci).*x; 
%% 外地茼蒿利润w4 
x=2.5:0.001:50; 
y=(18.37-0.6059.*x-c4).*x; 
plot(x,y); 
grid on 
[ymax,k]=max(y); 
%% 定价 与 补货量 负相关： 
k=-(18.37-c4)/(2*(-0.6059)); 
disp("补货量策略应该为：") 
disp(k) 
disp("利润 w：") 
disp(ymax) 
clear;clc; 
%% ci 代表成本价格，i=1,2,3,4,...,10. 
c1=7.03;c2=4.6;c3=3.44;c4=11.69;c5=5.02;c6=5.3;c7=9.76;c8=9.68;c9=2.26;c10=2.67; 
%% 利润计算公式w=(y-ci).*x; 
%% 上海青利润w1 
x=2.5:0.001:50; 
y=(8.539-0.3408.*x-c1).*x; 
plot(x,y); 
grid on 
[ymax,k]=max(y); 
%% 定价 与 补货量 负相关，k=2.5（最低补货量）； 
k=2.5; 
disp("补货量策略应该为：") 
disp(k) 
disp("利润 w：") 
disp(ymax) 
clear;clc; 
%% ci 代表成本价格，i=1,2,3,4,...,10. 
c1=7.03;c2=4.6;c3=3.44;c4=11.69;c5=5.02;c6=5.3;c7=9.76;c8=9.68;c9=2.26;c10=2.67; 
%% 利润计算公式w=(y-ci).*x; 
%% 红莲藕带利润w6 
%% 红莲藕带7天内销量均小于2.5kg，故在图中取2.5kg为补货量 
x=2.5:0.0000001:2.501; 
y=(11.94-0.312.*x-c6).*x; 
plot(x,y); 
grid on 
[ymax,k]=max(y); 
%% 定价 与 补货量 负相关，k=2.5（最低补货量）； 
disp("补货量策略应该为：") 
disp("2.5") 
disp("利润 w：") 
disp(ymax) 
clear;clc; 
% ci 代表成本价格，i=1,2,3,4,...,10. 
c1=7.03;c2=4.6;c3=3.44;c4=11.69;c5=5.02;c6=5.3;c7=9.76;c8=9.68;c9=2.26;c10=2.67; 
%% 利润计算公式w=(y-ci).*x; 
%% 利润海鲜菇（包）w10 
x=2.5:0.001:3; 
y=(3-c10).*x; 
plot(x,y); 
grid on 
[ymax,k]=max(y); 
%% 定价 与 补货量 无关，取周最大值k=3， 
k=3; 
disp("补货量策略应该为：") 
disp(k) 
disp("利润 w：") 
disp(ymax) 
clear;clc; 
%% ci 代表成本价格，i=1,2,3,4,...,10. 
c1=7.03;c2=4.6;c3=3.44;c4=11.69;c5=5.02;c6=5.3;c7=9.76;c8=9.68;c9=2.26;c10=2.67; 
%% 利润计算公式w=(y-ci).*x; 
%% 高瓜(2)利润w8 
%% 高瓜（2）7天内销量均小于2.5kg，故在图中取2.5kg为补货量 
x=2.5:0.001:2.501; 
y=(16.51+0.8754.*x-c8).*x; 
plot(x,y); 
grid on 
[ymax,k]=max(y); 
%% 定价 与 补货量 正相关，k=2.5： 
k=2.5; 
disp("补货量策略应该为：") 
disp(k) 
disp("利润 w：") 
disp(ymax) 
clear;clc; 
% ci 代表成本价格，i=1,2,3,4,...,10. 
c1=7.03;c2=4.6;c3=3.44;c4=11.69;c5=5.02;c6=5.3;c7=9.76;c8=9.68;c9=2.26;c10=2.67; 
%% 利润计算公式w=(y-ci).*x; 
%% 利润虫草花(份)w9 
x=2.5:0.001:4; 
y=(4.196-c9).*x; 
plot(x,y); 
grid on 
[ymax,k]=max(y); 
%% 定价 与 补货量 无关，取周最大值k=4， 
k=4; 
disp("补货量策略应该为：") 
disp(4) 
disp("利润 w：") 
disp(ymax) 
clear;clc; 
%% ci 代表成本价格，i=1,2,3,4,...,10. 
c1=7.03;c2=4.6;c3=3.44;c4=11.69;c5=5.02;c6=5.3;c7=9.76;c8=9.68;c9=2.26;c10=2.67; 
%% 利润计算公式w=(y-ci).*x; 
%% 菜心利润w2 
x=2.5:0.001:50; 
y=(7.107-0.4954.*x-c2).*x; 
plot(x,y); 
grid on 
[ymax,k]=max(y); 
%% 定价 与 补货量 负相关，k=2.5（最低补货量）； 
k=2.5; 
disp("补货量策略应该为：") 
disp(k) 
disp("利润 w：") 
disp(ymax) 
disp('请输入判断矩阵A') 
A=input('A='); 
[n,n] = size(A); 
%%特征值法求权重 
[V,D] = eig(A); 
Max_eig = max(max(D)); 
[r,c]=find(D == Max_eig , 1); 
disp('特征值法求权重的结果为：'); 
disp( V(:,c) ./ sum(V(:,c)) ) 
%%一致性比例CR 
CI = (Max_eig - n) / (n-1); 
RI=[0 0.0001 0.52 0.89 1.12 1.26 1.36 1.41 1.46 1.49 1.52 1.54 1.56 1.58 1.59];  
CR=CI/RI(n); 
disp('一致性指标CI=');disp(CI); 
disp('一致性比例CR=');disp(CR); 
if CR<0.10 
disp('因为 CR<0.10，所以该判断矩阵A的一致性可以接受!'); 
else 
end 
disp('注意：CR >= 0.10，因此该判断矩阵A需要进行修改!');